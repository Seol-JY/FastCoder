{"ast":null,"code":"import _slicedToArray from\"/Users/seol-jy/Desktop/Github_Projects/FastCoder/client/.yarn/cache/@babel-runtime-npm-7.18.9-28ca6b5f61-36dd736bab.zip/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{connect}from\"react-redux\";import useInterval from\"../hooks/useInterval\";import speed from\"../utils/speed\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Debug(_ref){var filestate=_ref.filestate,Correctchr=_ref.Correctchr,Wrongchr=_ref.Wrongchr,fileLength=_ref.fileLength,setFinishTrigger=_ref.setFinishTrigger;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var _useState3=useState(\"0000\"),_useState4=_slicedToArray(_useState3,2),cpm=_useState4[0],setCpm=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),terval=_useState6[0],setTerval=_useState6[1];var dpWrongchr=String(Wrongchr).padStart(3,\"0\");useEffect(function(){// 파일변경 감지 시 cpm 초기화\nsetCount(0);setCpm(\"0000\");},[filestate,fileLength]);useEffect(function(){if(!(Wrongchr+Correctchr)){// 입력값이 없어지면 cpm 초기화\nsetTerval(null);setCount(0);setCpm(\"0000\");}else{setTerval(50);if(Correctchr+Wrongchr===fileLength){//완료조건\nsetFinishTrigger(parseInt(cpm));//종료 트리거\nsetTerval(null);setCount(0);setCpm(\"0000\");}}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[Correctchr,Wrongchr]);useInterval(function(){// useInterval custom Hook\nsetCount(count+0.05);//0.05씩 UPDATE\nsetCpm(String(speed(count,Correctchr)).padStart(4,\"0\"));},terval);// Hook 실행조건, terval은 밀리초단위\nreturn/*#__PURE__*/ (// 타자속도, 틀린글자수 Display\n_jsxs(\"div\",{className:\"sidebarsection-debug\",children:[/*#__PURE__*/_jsx(\"p\",{children:cpm}),/*#__PURE__*/_jsx(\"p\",{children:\"/cpm\"}),/*#__PURE__*/_jsx(\"p\",{children:\"ERROR:\"}),/*#__PURE__*/_jsx(\"p\",{className:Wrongchr?\"onwrong\":\"wrong\",children:dpWrongchr})]}));}var mapStateToProps=function mapStateToProps(state){// Redux  구문\nreturn{Correctchr:state.correct.Correctchr,Wrongchr:state.wrong.Wrongchr};};export default connect(mapStateToProps)(Debug);","map":{"version":3,"names":["useState","useEffect","connect","useInterval","speed","Debug","filestate","Correctchr","Wrongchr","fileLength","setFinishTrigger","count","setCount","cpm","setCpm","terval","setTerval","dpWrongchr","String","padStart","parseInt","mapStateToProps","state","correct","wrong"],"sources":["/Users/seol-jy/Desktop/Github_Projects/FastCoder/client/src/components/Debug.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport useInterval from \"../hooks/useInterval\";\nimport speed from \"../utils/speed\";\n\nfunction Debug({filestate, Correctchr, Wrongchr, fileLength, setFinishTrigger,}) {\n  const [count, setCount] = useState(0);\n  const [cpm, setCpm] = useState(\"0000\");\n  const [terval, setTerval] = useState(null);\n  const dpWrongchr = String(Wrongchr).padStart(3, \"0\");\n\n  useEffect(() => {\n    // 파일변경 감지 시 cpm 초기화\n    setCount(0);\n    setCpm(\"0000\");\n  }, [filestate, fileLength]);\n\n  useEffect(() => {\n    if (!(Wrongchr + Correctchr)) {\n      // 입력값이 없어지면 cpm 초기화\n      setTerval(null);\n      setCount(0);\n      setCpm(\"0000\");\n    } else {\n      setTerval(50);\n      if (Correctchr + Wrongchr === fileLength) {\n        //완료조건\n        setFinishTrigger(parseInt(cpm)); //종료 트리거\n        setTerval(null);\n        setCount(0);\n        setCpm(\"0000\");\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [Correctchr, Wrongchr]);\n\n  useInterval(() => {\n    // useInterval custom Hook\n    setCount(count + 0.05); //0.05씩 UPDATE\n    setCpm(String(speed(count, Correctchr)).padStart(4, \"0\"));\n  }, terval); // Hook 실행조건, terval은 밀리초단위\n\n  return (\n    // 타자속도, 틀린글자수 Display\n    <div className=\"sidebarsection-debug\">\n      <p>{cpm}</p>\n      <p>/cpm</p>\n      <p>ERROR:</p>\n      <p className={Wrongchr ? \"onwrong\" : \"wrong\"}>{dpWrongchr}</p>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  // Redux  구문\n  return {\n    Correctchr: state.correct.Correctchr,\n    Wrongchr: state.wrong.Wrongchr,\n  };\n};\n\nexport default connect(mapStateToProps)(Debug);\n"],"mappings":"6MAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,YAAP,KAAwB,sBAAxB,CACA,MAAOC,MAAP,KAAkB,gBAAlB,C,wFAEA,QAASC,MAAT,MAAiF,IAAjEC,UAAiE,MAAjEA,SAAiE,CAAtDC,UAAsD,MAAtDA,UAAsD,CAA1CC,QAA0C,MAA1CA,QAA0C,CAAhCC,UAAgC,MAAhCA,UAAgC,CAApBC,gBAAoB,MAApBA,gBAAoB,CAC/E,cAA0BV,QAAQ,CAAC,CAAD,CAAlC,wCAAOW,KAAP,eAAcC,QAAd,eACA,eAAsBZ,QAAQ,CAAC,MAAD,CAA9B,yCAAOa,GAAP,eAAYC,MAAZ,eACA,eAA4Bd,QAAQ,CAAC,IAAD,CAApC,yCAAOe,MAAP,eAAeC,SAAf,eACA,GAAMC,WAAU,CAAGC,MAAM,CAACV,QAAD,CAAN,CAAiBW,QAAjB,CAA0B,CAA1B,CAA6B,GAA7B,CAAnB,CAEAlB,SAAS,CAAC,UAAM,CACd;AACAW,QAAQ,CAAC,CAAD,CAAR,CACAE,MAAM,CAAC,MAAD,CAAN,CACD,CAJQ,CAIN,CAACR,SAAD,CAAYG,UAAZ,CAJM,CAAT,CAMAR,SAAS,CAAC,UAAM,CACd,GAAI,EAAEO,QAAQ,CAAGD,UAAb,CAAJ,CAA8B,CAC5B;AACAS,SAAS,CAAC,IAAD,CAAT,CACAJ,QAAQ,CAAC,CAAD,CAAR,CACAE,MAAM,CAAC,MAAD,CAAN,CACD,CALD,IAKO,CACLE,SAAS,CAAC,EAAD,CAAT,CACA,GAAIT,UAAU,CAAGC,QAAb,GAA0BC,UAA9B,CAA0C,CACxC;AACAC,gBAAgB,CAACU,QAAQ,CAACP,GAAD,CAAT,CAAhB,CAAiC;AACjCG,SAAS,CAAC,IAAD,CAAT,CACAJ,QAAQ,CAAC,CAAD,CAAR,CACAE,MAAM,CAAC,MAAD,CAAN,CACD,CACF,CACD;AACD,CAjBQ,CAiBN,CAACP,UAAD,CAAaC,QAAb,CAjBM,CAAT,CAmBAL,WAAW,CAAC,UAAM,CAChB;AACAS,QAAQ,CAACD,KAAK,CAAG,IAAT,CAAR,CAAwB;AACxBG,MAAM,CAACI,MAAM,CAACd,KAAK,CAACO,KAAD,CAAQJ,UAAR,CAAN,CAAN,CAAiCY,QAAjC,CAA0C,CAA1C,CAA6C,GAA7C,CAAD,CAAN,CACD,CAJU,CAIRJ,MAJQ,CAAX,CAIY;AAEZ,oBACE;AACA,aAAK,SAAS,CAAC,sBAAf,wBACE,mBAAIF,GAAJ,EADF,cAEE,2BAFF,cAGE,6BAHF,cAIE,UAAG,SAAS,CAAEL,QAAQ,CAAG,SAAH,CAAe,OAArC,UAA+CS,UAA/C,EAJF,GAFF,EASD,CAED,GAAMI,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,KAAD,CAAW,CACjC;AACA,MAAO,CACLf,UAAU,CAAEe,KAAK,CAACC,OAAN,CAAchB,UADrB,CAELC,QAAQ,CAAEc,KAAK,CAACE,KAAN,CAAYhB,QAFjB,CAAP,CAID,CAND,CAQA,cAAeN,QAAO,CAACmB,eAAD,CAAP,CAAyBhB,KAAzB,CAAf"},"metadata":{},"sourceType":"module"}