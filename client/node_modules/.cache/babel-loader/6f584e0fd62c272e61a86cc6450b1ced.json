{"ast":null,"code":"import _slicedToArray from\"/Users/seol-jy/Desktop/Github_Projects/FastCoder/client/.yarn/cache/@babel-runtime-npm-7.18.9-28ca6b5f61-36dd736bab.zip/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{connect}from'react-redux';import{setCorrectchr as _setCorrectchr}from'../redux/correct/actions';import{setWrongchr as _setWrongchr}from'../redux/wrong/actions';import getFilecontents from'../utils/filecontents';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Text(props){//const colormap = file.colormap\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),textSplit=_useState2[0],setTextSplit=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),themeColor=_useState4[0],setThemeColor=_useState4[1];var wrong=0,correct=0;var user=props.userInput;var userSplit=user.split(\"\");useEffect(function(){setTextSplit(getFilecontents(props.file).content);},[props.file]);useEffect(function(){var len=textSplit.length;props.setFileLength(len);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[textSplit]);useEffect(function(){if(props.daynight%2===1)setThemeColor(\"#585858\");else setThemeColor(\"#BEBEBE\");},[props.daynight]);useEffect(function(){props.setCorrectchr(correct);props.setWrongchr(wrong);// eslint-disable-next-line react-hooks/exhaustive-deps\n});return/*#__PURE__*/_jsx(\"div\",{className:\"textdisplay\",children:textSplit.map(function(s,i){var color;var colortxt;var wrongLineBreak;if(i<user.length){if(s===userSplit[i]){//correct (개행시 어떤값이든 PASS)\ncolor=\"\";colortxt=themeColor;correct++;}else if(s===\"\\n\"&&userSplit[i]!==\"\\n\"){wrongLineBreak=true;wrong++;}else{//wrong\ncolor=\"#ff5c5c\";colortxt=\"white\";wrong++;}}var chr=i===user.length-1?userSplit[i]===\"\\n\"||s===\"\\n\"?s:userSplit[i]:s;return/*#__PURE__*/_jsxs(\"pre\",{style:{display:\"inline\",backgroundColor:color,color:colortxt},children:[user.length===i?/*#__PURE__*/_jsx(\"div\",{className:\"cursor\",children:\"_\"}):\"\",wrongLineBreak?/*#__PURE__*/_jsx(\"div\",{className:\"wrong-line-break\"}):\"\",chr]},i);})});}var mapStateToProps=function mapStateToProps(state){return{Correctchr:state.correct.Correctchr,Wrongchr:state.wrong.Wrongchr};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setCorrectchr:function setCorrectchr(cor){return dispatch(_setCorrectchr(cor));},setWrongchr:function setWrongchr(wr){return dispatch(_setWrongchr(wr));}};};export default connect(mapStateToProps,mapDispatchToProps)(Text);","map":{"version":3,"names":["useEffect","useState","connect","setCorrectchr","setWrongchr","getFilecontents","Text","props","textSplit","setTextSplit","themeColor","setThemeColor","wrong","correct","user","userInput","userSplit","split","file","content","len","length","setFileLength","daynight","map","s","i","color","colortxt","wrongLineBreak","chr","display","backgroundColor","mapStateToProps","state","Correctchr","Wrongchr","mapDispatchToProps","dispatch","cor","wr"],"sources":["/Users/seol-jy/Desktop/Github_Projects/FastCoder/client/src/components/Text.jsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { setCorrectchr } from '../redux/correct/actions'\nimport {setWrongchr} from '../redux/wrong/actions'\nimport getFilecontents from '../utils/filecontents'\n\nfunction Text(props) {\n  //const colormap = file.colormap\n  const [textSplit, setTextSplit] = useState([]);\n  const [themeColor, setThemeColor] = useState(\"\");\n  let wrong = 0,\n    correct = 0;\n  const user = props.userInput;\n  const userSplit = user.split(\"\");\n\n  useEffect(() => {\n    setTextSplit(getFilecontents(props.file).content);\n  }, [props.file]);\n\n  useEffect(() => {\n    const len = textSplit.length;\n    props.setFileLength(len);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [textSplit]);\n\n  useEffect(() => {\n    if (props.daynight % 2 === 1) setThemeColor(\"#585858\");\n    else setThemeColor(\"#BEBEBE\");\n  }, [props.daynight]);\n\n  useEffect(() => {\n    props.setCorrectchr(correct);\n    props.setWrongchr(wrong);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  });\n\n  return (\n    <div className=\"textdisplay\">\n      {textSplit.map((s, i) => {\n        \n        let color;\n        let colortxt;\n        let wrongLineBreak;\n\n        if (i < user.length) {\n          if (s === userSplit[i]) {\n            //correct (개행시 어떤값이든 PASS)\n            color = \"\";\n            colortxt = themeColor;\n            correct++;\n          } else if (s === \"\\n\" && userSplit[i] !== \"\\n\") {\n            wrongLineBreak = true;\n            wrong++;\n          } else {\n            //wrong\n            color = \"#ff5c5c\";\n            colortxt = \"white\";\n            wrong++;\n          }\n        }\n\n        const chr =\n          i === user.length - 1\n            ? userSplit[i] === \"\\n\" || s === \"\\n\"\n              ? s\n              : userSplit[i]\n            : s;\n\n        return (\n          <pre key={i} style={{display: \"inline\", backgroundColor: color, color: colortxt}}>\n            {user.length === i ? <div className=\"cursor\">_</div> : \"\"}\n            {wrongLineBreak ? <div className=\"wrong-line-break\"></div> : \"\"}\n            {chr}\n          </pre>\n        );\n      })}\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        Correctchr: state.correct.Correctchr,\n        Wrongchr: state.wrong.Wrongchr,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setCorrectchr: (cor)=>dispatch(setCorrectchr(cor)),\n        setWrongchr: (wr)=>dispatch(setWrongchr(wr))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Text)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}