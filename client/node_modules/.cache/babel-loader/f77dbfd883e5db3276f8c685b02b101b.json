{"ast":null,"code":"var _jsxFileName = \"/Users/seol-jy/Desktop/Github_Projects/FastCoder/client/src/components/Debug.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport useInterval from \"../hooks/useInterval\";\nimport speed from \"../utils/speed\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Debug(_ref) {\n  _s();\n\n  let {\n    filestate,\n    Correctchr,\n    Wrongchr,\n    fileLength,\n    setFinishTrigger\n  } = _ref;\n  const [count, setCount] = useState(0);\n  const [cpm, setCpm] = useState(\"0000\");\n  const [terval, setTerval] = useState(null);\n  const dpWrongchr = String(Wrongchr).padStart(3, \"0\");\n  useEffect(() => {\n    // 파일변경 감지 시 cpm 초기화\n    setCount(0);\n    setCpm(\"0000\");\n  }, [filestate, fileLength]);\n  useEffect(() => {\n    if (!(Wrongchr + Correctchr)) {\n      // 입력값이 없어지면 cpm 초기화\n      setTerval(null);\n      setCount(0);\n      setCpm(\"0000\");\n    } else {\n      setTerval(50);\n\n      if (Correctchr + Wrongchr === fileLength) {\n        //완료조건\n        setFinishTrigger(parseInt(cpm)); //종료 트리거\n\n        setTerval(null);\n        setCount(0);\n        setCpm(\"0000\");\n      }\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [Correctchr, Wrongchr]);\n  useInterval(() => {\n    // useInterval custom Hook\n    setCount(count + 0.05); //0.05씩 UPDATE\n\n    setCpm(String(speed(count, Correctchr)).padStart(4, \"0\"));\n  }, terval); // Hook 실행조건, terval은 밀리초단위\n\n  return (\n    /*#__PURE__*/\n    // 타자속도, 틀린글자수 Display\n    _jsxDEV(\"div\", {\n      className: \"sidebarsection-debug\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: cpm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"/cpm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"ERROR:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: Wrongchr ? \"onwrong\" : \"wrong\",\n        children: dpWrongchr\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }, this)\n  );\n}\n\n_s(Debug, \"6lmjWY98mz+wADg9nmX8tWhQvcU=\", false, function () {\n  return [useInterval];\n});\n\n_c = Debug;\n\nconst mapStateToProps = state => {\n  // Redux  구문\n  return {\n    Correctchr: state.correct.Correctchr,\n    Wrongchr: state.wrong.Wrongchr\n  };\n};\n\nexport default connect(mapStateToProps)(Debug);\n\nvar _c;\n\n$RefreshReg$(_c, \"Debug\");","map":{"version":3,"names":["useState","useEffect","connect","useInterval","speed","Debug","filestate","Correctchr","Wrongchr","fileLength","setFinishTrigger","count","setCount","cpm","setCpm","terval","setTerval","dpWrongchr","String","padStart","parseInt","mapStateToProps","state","correct","wrong"],"sources":["/Users/seol-jy/Desktop/Github_Projects/FastCoder/client/src/components/Debug.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport useInterval from \"../hooks/useInterval\";\nimport speed from \"../utils/speed\";\n\nfunction Debug({filestate, Correctchr, Wrongchr, fileLength, setFinishTrigger,}) {\n  const [count, setCount] = useState(0);\n  const [cpm, setCpm] = useState(\"0000\");\n  const [terval, setTerval] = useState(null);\n  const dpWrongchr = String(Wrongchr).padStart(3, \"0\");\n\n  useEffect(() => {\n    // 파일변경 감지 시 cpm 초기화\n    setCount(0);\n    setCpm(\"0000\");\n  }, [filestate, fileLength]);\n\n  useEffect(() => {\n    if (!(Wrongchr + Correctchr)) {\n      // 입력값이 없어지면 cpm 초기화\n      setTerval(null);\n      setCount(0);\n      setCpm(\"0000\");\n    } else {\n      setTerval(50);\n      if (Correctchr + Wrongchr === fileLength) {\n        //완료조건\n        setFinishTrigger(parseInt(cpm)); //종료 트리거\n        setTerval(null);\n        setCount(0);\n        setCpm(\"0000\");\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [Correctchr, Wrongchr]);\n\n  useInterval(() => {\n    // useInterval custom Hook\n    setCount(count + 0.05); //0.05씩 UPDATE\n    setCpm(String(speed(count, Correctchr)).padStart(4, \"0\"));\n  }, terval); // Hook 실행조건, terval은 밀리초단위\n\n  return (\n    // 타자속도, 틀린글자수 Display\n    <div className=\"sidebarsection-debug\">\n      <p>{cpm}</p>\n      <p>/cpm</p>\n      <p>ERROR:</p>\n      <p className={Wrongchr ? \"onwrong\" : \"wrong\"}>{dpWrongchr}</p>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  // Redux  구문\n  return {\n    Correctchr: state.correct.Correctchr,\n    Wrongchr: state.wrong.Wrongchr,\n  };\n};\n\nexport default connect(mapStateToProps)(Debug);\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;;AAEA,SAASC,KAAT,OAAiF;EAAA;;EAAA,IAAlE;IAACC,SAAD;IAAYC,UAAZ;IAAwBC,QAAxB;IAAkCC,UAAlC;IAA8CC;EAA9C,CAAkE;EAC/E,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,CAAD,CAAlC;EACA,MAAM,CAACa,GAAD,EAAMC,MAAN,IAAgBd,QAAQ,CAAC,MAAD,CAA9B;EACA,MAAM,CAACe,MAAD,EAASC,SAAT,IAAsBhB,QAAQ,CAAC,IAAD,CAApC;EACA,MAAMiB,UAAU,GAAGC,MAAM,CAACV,QAAD,CAAN,CAAiBW,QAAjB,CAA0B,CAA1B,EAA6B,GAA7B,CAAnB;EAEAlB,SAAS,CAAC,MAAM;IACd;IACAW,QAAQ,CAAC,CAAD,CAAR;IACAE,MAAM,CAAC,MAAD,CAAN;EACD,CAJQ,EAIN,CAACR,SAAD,EAAYG,UAAZ,CAJM,CAAT;EAMAR,SAAS,CAAC,MAAM;IACd,IAAI,EAAEO,QAAQ,GAAGD,UAAb,CAAJ,EAA8B;MAC5B;MACAS,SAAS,CAAC,IAAD,CAAT;MACAJ,QAAQ,CAAC,CAAD,CAAR;MACAE,MAAM,CAAC,MAAD,CAAN;IACD,CALD,MAKO;MACLE,SAAS,CAAC,EAAD,CAAT;;MACA,IAAIT,UAAU,GAAGC,QAAb,KAA0BC,UAA9B,EAA0C;QACxC;QACAC,gBAAgB,CAACU,QAAQ,CAACP,GAAD,CAAT,CAAhB,CAFwC,CAEP;;QACjCG,SAAS,CAAC,IAAD,CAAT;QACAJ,QAAQ,CAAC,CAAD,CAAR;QACAE,MAAM,CAAC,MAAD,CAAN;MACD;IACF,CAfa,CAgBd;;EACD,CAjBQ,EAiBN,CAACP,UAAD,EAAaC,QAAb,CAjBM,CAAT;EAmBAL,WAAW,CAAC,MAAM;IAChB;IACAS,QAAQ,CAACD,KAAK,GAAG,IAAT,CAAR,CAFgB,CAEQ;;IACxBG,MAAM,CAACI,MAAM,CAACd,KAAK,CAACO,KAAD,EAAQJ,UAAR,CAAN,CAAN,CAAiCY,QAAjC,CAA0C,CAA1C,EAA6C,GAA7C,CAAD,CAAN;EACD,CAJU,EAIRJ,MAJQ,CAAX,CA/B+E,CAmCnE;;EAEZ;IAAA;IACE;IACA;MAAK,SAAS,EAAC,sBAAf;MAAA,wBACE;QAAA,UAAIF;MAAJ;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF,eAIE;QAAG,SAAS,EAAEL,QAAQ,GAAG,SAAH,GAAe,OAArC;QAAA,UAA+CS;MAA/C;QAAA;QAAA;QAAA;MAAA,QAJF;IAAA;MAAA;MAAA;MAAA;IAAA;EAFF;AASD;;GA9CQZ,K;UA+BPF,W;;;KA/BOE,K;;AAgDT,MAAMgB,eAAe,GAAIC,KAAD,IAAW;EACjC;EACA,OAAO;IACLf,UAAU,EAAEe,KAAK,CAACC,OAAN,CAAchB,UADrB;IAELC,QAAQ,EAAEc,KAAK,CAACE,KAAN,CAAYhB;EAFjB,CAAP;AAID,CAND;;AAQA,eAAeN,OAAO,CAACmB,eAAD,CAAP,CAAyBhB,KAAzB,CAAf"},"metadata":{},"sourceType":"module"}